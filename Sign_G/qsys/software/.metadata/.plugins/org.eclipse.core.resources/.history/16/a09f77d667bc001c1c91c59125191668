#include <stdio.h>
#include <io.h>
#include <unistd.h>
#include "system.h"
#include "alt_types.h"
#include "altera_avalon_uart_regs.h"
#include "sys\alt_irq.h"
#include "stddef.h"
#include "stdarg.h"
#include <string.h>

alt_u8 RxCounter=0;
alt_u8 RxBuffer[11];
alt_u8 Res=0;

char send_data[600]={0};

/////////语音模块的数据
alt_u8 SYN_StopCom[]={0xFD,0X00,0X02,0X02,0XFD};     //停止合成
alt_u8 SYN_SuspendCom[]={0XFD,0X00,0X02,0X03,0XFC};   //暂停合成
alt_u8 SYN_RecoverCom[]={0XFD,0X00,0X02,0X04,0XFB};   //恢复合成
alt_u8 SYN_ChackCom[]={0XFD,0X00,0X02,0X21,0XDE};   //状态查询
alt_u8 SYN_PowerDownCom[]={0XFD,0X00,0X02,0X88,0X77}; //进入POWER DOWN 状态命令

float a[3]={0};
float w[3]={0};
float angle[3]={0};

float sample_v[5]={0};         //实时电压数据，AD采到的手指值
float sample_a[5]={0};         //实时角度数据，陀螺仪的值

float distance_v[43][2]={0};    //序号及电压记录表
float distance_a[7][2]={0};     //序号及电压记录表



float sheet_v[50][5]=       //////训练好的手指值   初始值：拇指（小） 食指（大） 中指 （大）无名指（大） 小指（大）   弯曲变反向
{
	//{1.593, 2.889, 3.080, 3.129, 1.418},//初始值
	{3.738, 3.719, 3.723, 3.639, 3.695},

	{3.739, 3.720, 3.733, 3.598, 2.809},//0  聋
	{0.021, 1.710, 0.016, 0.016, 0.359},

	{2.915, 2.964, 3.724, 2.905, 2.792},//1  人
	{0.021, 1.829, 0.017, 0.016, 0.813},

	{0.020, 2.440, 0.016, 0.015, 0.426},//2  你
	{0.020, 2.441, 0.016, 0.015, 0.331},

	{0.020, 2.296, 0.015, 0.015, 0.812},//3 爱你
	{0.020, 2.289, 0.016, 0.015, 0.824},

	{0.021, 1.746, 0.016, 0.016, 0.417},//4 沉默
	{0.021, 1.751, 0.016, 0.016, 0.420},

	{0.020, 2.481, 0.016, 0.016, 0.406},//5 不是
	{0.020, 2.460, 0.016, 0.015, 0.408},

	{0.020, 2.616, 0.016, 0.015, 0.850},//6 错
	{0.020, 2.616, 0.016, 0.015, 0.850},

	{0.021, 1.681, 0.016, 0.015, 0.377},//7 还在
	{0.021, 1.689, 0.016, 0.016, 0.380},

	{0.020, 2.357, 0.015, 0.015, 0.396}, //8 我
	{0.020, 2.350, 0.016, 0.016, 0.391},

	{0.020, 1.774, 0.016, 0.015, 0.853}, //OK 生活
	{0.020, 1.774, 0.016, 0.015, 0.853},

	{0.021, 2.932, 0.017, 0.017, 0.382},  //好
	{0.022, 2.633, 0.017, 0.017, 0.379},

	{0.892, 2.120, 2.194, 2.082, 0.563},  //谢谢
	{0.847, 2.658, 1.808, 1.589, 0.823},

	{0.875, 2.927, 2.129, 2.147, 0.643},   //你
	{0.836, 2.887, 2.336, 2.211, 0.596},

	//{1.442, 2.873, 2.124, 3.123, 1.428},  //我
	{0.729, 2.448, 1.829, 1.089, 0.524},
	{1.218, 2.889, 2.166, 3.088, 1.407},

	{0.846, 2.933, 3.120, 2.355, 0.728},//是
	{0.846, 2.958, 3.121, 2.276, 0.691},

	{1.656, 2.947, 2.166, 2.148, 0.654},//很
	{1.607, 3.008, 2.107, 2.180, 0.582},

	{1.370, 2.833, 3.211, 3.249, 1.463},//学生
	{1.473, 2.858, 3.138, 3.173, 1.349},

	{1.485, 2.099, 2.316, 2.144, 1.522},//见到
	//{0.873, 2.744, 2.771, 1.272, 0.924},
	{1.533, 2.149, 2.357, 2.136, 1.532},

	{0.819, 2.152, 2.345, 2.143, 1.460},//抱歉
	{0.714, 2.153, 2.296, 2.148, 1.438},

	{1.703, 3.054, 3.140, 3.264, 1.436},//们
	{1.725, 3.092, 3.155, 3.066, 1.420},

	{1.435, 2.585, 2.250, 2.223, 0.686},//名片
	{1.506, 2.499, 2.208, 2.211, 0.581}
};


float sheet_a[50][2]=     /////训练好的陀螺仪的值
{
	{-0.81, 3.24},//初值

	{8.84, -74.56},//聋
	{10, 10},

	{25.39, -36.88},//人
	{10, 10},

	{10, 10},//2
	{10, 10},

	{10, 10},//3
	{10, 10},

	{100, 100},//4
	{100, 100},

	{100, 100},//5
	{100, 100},

	{50, 50},//6
	{50, 50},

	{50, 50},  //7
	{50, 50},

	{50, 50},  //8
	{50, 50},

	{100, 100}, //OK 生活
	{100, 100},

	{20, 20},  //好 上天
	{20, 20},

	{10, 10},  //谢谢 2
	{10, 10},

	{10, 10}, //你
	{10, 10},

	//{94.00, -26.27}, //我
	{10, 10},
	{10, 10},

	{10, 10},//是
	{10, 10},

	{10, 10},//很
	{10, 10},

	{10, 10},//学生
	{10, 10},

	{10, 10},//见到
	//{10.01, 2.75},
	{10, 10},

	{10, 10},//抱歉
	{10, 10},

	{10, 10},//们
	{10, 10},

	{10, 10},//名片
	{10, 10}
};


/*
float sheet_a[50][2]=     /////训练好的陀螺仪的值
{
	{6.45, -8.37},//初值

	{103.75, 20.12},//0
	{87.24, 15.72},

	{104.82, 11.78},//1
	{105.35, 16.67},

	{97.87, 8.79},//2
	{90.71, 10.45},

	{92.65, 6.30},//3
	{86.65, 8.73},

	{95.04, -1.24},//4
	{86.76, 6.14},

	{93.94, 8.11},//5
	{93.18, 8.41},

	{97.83, 9.48},//6
	{87.90, 2.47},

	{68.85, -1.63},  //7
	{96.38, 13.92},

	{100.46, 5.48},  //8 1
	{162.10, -53.83},

	{100.74, 1.53}, //OK 1
	{-118.49, -75.25},

	{101.27, 2.65},  //好 1
	{145.33, -30.72},

	{109.14, -17.57},  //谢谢 2
	{102.40, 6.35},

	{91.44, -3.66}, //你
	{104.76, -26.35},

	//{94.00, -26.27}, //我
	{102.44, -80.24},
	{96.48, -16.24},

	{157.37, 11.12},//是
	{-162.28, 7.54},

	{141.70, 21.80},//很
	{-165.90, 17.29},

	{100.22, -20.25},//学生
	{113.40, -49.74},

	{80.81, 9.52},//见到
	//{10.01, 2.75},
	{70.02, 17.59},

	{116.94, -14.32},//抱歉
	{154.51, -23.87},

	{3.73, -2.61},//们
	{-11.00, 0.48},

	{101.75, 33.71},//名片
	{116.56, 55.73}
};
*/

void read_power(alt_u8 ch , alt_u16 *pRegValue);   ///AD转换函数

void uart_1_init();            //////串口1初始化函数
void uart_0_init();              //////串口0初始化函数
static void uart_isr(void * context,int id);   //////串口0中断函数;

void SYN_FrameInfo(alt_u8 *HZdata);      /////语音模块驱动程序
void PrintCom(alt_u8 *DAT,alt_u8 len);
void YS_SYN_Set(alt_u8 *Info_data);

/////AD 转换函数
void read_power(alt_u8 ch , alt_u16 *pRegValue)
{
 	int  Value;
 	// set measure number for ADC convert
 	IOWR(ADC_LTC2308_BASE, 0x01, 1);
 	// start measure
 	IOWR(ADC_LTC2308_BASE, 0x00, (ch << 1) | 0x00);
 	IOWR(ADC_LTC2308_BASE, 0x00, (ch << 1) | 0x01);
 	IOWR(ADC_LTC2308_BASE, 0x00, (ch << 1) | 0x00);
 	usleep(1);
 	while ((IORD(ADC_LTC2308_BASE,0x00) & 0x01) == 0x00);
 	Value = IORD(ADC_LTC2308_BASE, 0x01);
 	//printf("Value=%d\n",Value);
 	*pRegValue= Value;
 }

/////单字节发送函数，串口1驱动语音模块
void PrintCom(alt_u8 *DAT,alt_u8 len)
{
	alt_u8 i;
	for(i=0;i<len;i++)
	{
	   while(!(IORD_ALTERA_AVALON_UART_STATUS(UART_1_BASE)& ALTERA_AVALON_UART_STATUS_TRDY_MSK));
	   IOWR_ALTERA_AVALON_UART_TXDATA(UART_1_BASE, DAT[i]);
	}
}

//////多字节发送函数，合成语音帧
void SYN_FrameInfo(alt_u8 *HZdata)
{
/****************需要发送的文本**********************************/
	 unsigned  char  Frame_Info[50];    //定义文本长度
	 unsigned  char  HZ_Length;
	 HZ_Length =strlen(HZdata); //需要发送的文本长度
/*****************帧固定信息配置**************************************/
	 Frame_Info[0] = 0xFD ; 			//帧头FD
	 Frame_Info[1] = 0x00 ; 			//数据长度高字节
	 Frame_Info[2] = HZ_Length + 6; 		//数据长度低字节
	 Frame_Info[3] = 0x01 ; 			//构造命令：合成播放语音
	 Frame_Info[4] = 0x01;      //文本格式：GBK
	 Frame_Info[5] = 0x5B;
	 Frame_Info[6] = 0x68;
	 Frame_Info[7] = 0x30;
	 Frame_Info[8] = 0x5D;
	 memcpy(&Frame_Info[9], HZdata, HZ_Length);
	 PrintCom(Frame_Info,9+HZ_Length);//发送帧配置
}

/*********************语音模块初始化******************************/
void YS_SYN_Set(alt_u8 *Info_data)
{
	alt_u8 Com_Len;
	Com_Len =strlen(Info_data);
	PrintCom(Info_data,Com_Len);
}

static void uart_isr(void * context,int id)     //串口0中断函数,接收陀螺仪的数据
{
	alt_u16 status;
	status = IORD_ALTERA_AVALON_UART_STATUS(UART_0_BASE);

	if(status & ALTERA_AVALON_UART_STATUS_RRDY_MSK)
	{
		Res= IORD_ALTERA_AVALON_UART_RXDATA(UART_0_BASE);
		RxBuffer[RxCounter]=Res;
		RxCounter++;

	   if(RxBuffer[0]!=0x55)	RxCounter=0;
	   else
	  	{
		   switch(RxBuffer[1])
			{
			   case 0x51:
				   {
					  a[0] = ((short)(RxBuffer[3]<<8 | RxBuffer[2]))/32768.0*16;
					  a[1] = ((short)(RxBuffer[5]<<8 | RxBuffer[4]))/32768.0*16;
					  a[2] = ((short)(RxBuffer[7]<<8 | RxBuffer[6]))/32768.0*16;
					  break;
				   }

			   case 0x52:
			      {
					  w[0] = ((short)(RxBuffer[3]<<8| RxBuffer[2]))/32768.0*2000;
					  w[1] = ((short)(RxBuffer[5]<<8| RxBuffer[4]))/32768.0*2000;
					  w[2] = ((short)(RxBuffer[7]<<8| RxBuffer[6]))/32768.0*2000;
					  break;
				  }

			   case 0x53:
	             {
					  angle[0] = ((short)(RxBuffer[3]<<8| RxBuffer[2]))/32768.0*180;
					  angle[1] = ((short)(RxBuffer[5]<<8| RxBuffer[4]))/32768.0*180;
					  angle[2] = ((short)(RxBuffer[7]<<8| RxBuffer[6]))/32768.0*180;
					  break;
				 }
			  default:  break;
			}
	  	  }

		if(RxCounter>10)    RxCounter=0;    //接收错误，重新开始
	}
}

void  USART_printf(char *fmt,...)          //发送屏幕显示内容
{
	alt_u16 i,j;
	va_list ap;
	va_start(ap,fmt);
	vsprintf((char*)send_data,fmt,ap);
	va_end(ap);
	i=strlen((const char*)send_data);//此次发送数据的长度
	for(j=0;j<i;j++)//循环发送数据
	{
	  while(!(IORD_ALTERA_AVALON_UART_STATUS(UART_0_BASE)& ALTERA_AVALON_UART_STATUS_TRDY_MSK));
		IOWR_ALTERA_AVALON_UART_TXDATA(UART_0_BASE, send_data[j]);
	}
}

//串口0初始化//
void uart_0_init()
{
	alt_irq_register(UART_0_IRQ,NULL,uart_isr);      //注册串口中断服务程序
	IOWR_ALTERA_AVALON_UART_STATUS(UART_0_BASE,0);
	IOWR_ALTERA_AVALON_UART_CONTROL(UART_0_BASE,0X80);
}

//串口1初始化//
void uart_1_init()     //串口1发送语音给语音模块
{
	alt_irq_register(UART_1_IRQ,NULL,0);
	IOWR_ALTERA_AVALON_UART_STATUS(UART_1_BASE,0);
	IOWR_ALTERA_AVALON_UART_CONTROL(UART_1_BASE,0X80);
}

int main()
{
	USART_printf("CLS(0);\n");
	USART_printf("DS32(90,2,'基于DE10-Nano的',1);\n");usleep(200*2000);
	USART_printf("DS32(100,40,'手语翻译系统',1);\n");usleep(200*2000);
	USART_printf("DS24(2,120,'手语翻译显示:',2);\n");usleep(200*2000);
	//SYN_FrameInfo("基于FPGA的手语翻译系统");usleep(2000*2000);
	//SYN_FrameInfo("现在开始为您进行演示");usleep(2000*1000);

	float sum,d,m,f;
	char n;
	alt_u8 i,j,k,q=64;
	alt_u16 Data0,Data1,Data2,Data3,Data4;
	char szADC_Data[70]={0};
	uart_0_init();
	//usleep(100*1000);
	uart_1_init();
	while(1)
	{

			if( (-5<w[0])&&(w[0]<5)&&(-5<w[1])&&(w[1]<5)&&(-5<w[2])&&(w[2]<5))
			{
					usleep(8*1000);
					///读取AD、陀螺仪角度值
					if( (-5<w[0])&&(w[0]<5)&&(-5<w[1])&&(w[1]<5)&&(-5<w[2])&&(w[2]<5))
					{
						/*if((-20<angle[0])&&(angle[0]<20)&&(-20<angle[1])&&(angle[1]<20))
						{
							sample_a[0]=100.0;
							sample_a[1]=100.0;
						}else if((40<angle[0])&&(angle[0]<150)&&(-20<angle[1])&&(angle[1]<20))
						{
							sample_a[0]=10.0;
							sample_a[1]=10.0;
						}else if((50<angle[0])&&(angle[0]<150)&&(-70<angle[1])&&(angle[1]<-50))
						{
							sample_a[0]=50.0;
							sample_a[1]=50.0;
						}else
						{
							sample_a[0]=1.0;
							sample_a[1]=1.0;
						}*/
						 sample_a[0]=angle[0];
						 sample_a[1]=angle[1];

						 read_power(0x00,&Data0);
						 read_power(0x01,&Data1);
						 read_power(0x02,&Data2);
						 read_power(0x03,&Data3);
						 read_power(0x04,&Data4);

						 sample_v[0]=(float)Data0/1000.0;
						 sample_v[1]=(float)Data1/1000.0;
						 sample_v[2]=(float)Data2/1000.0;
						 sample_v[3]=(float)Data3/1000.0;
						 sample_v[4]=(float)Data4/1000.0;
					}
					//相关性运算（距离，未开方）
		    	 	for(i=0;i<43;i++)
					  {
							for(j=0;j<5;j++)
								{
								  sum=sum+(sheet_v[i][j]-sample_v[j])*(sheet_v[i][j]-sample_v[j]);  ///5个手指头的误差平方和
								}
							distance_v[i][0]=i;
							distance_v[i][1]=sum;
							sum=0;
					  }
					 //冒泡排序，计算得出序号（第一列）

					 for(i=0;i<5;i++)
					  {
						   for(j=43;j>i;j--)
						   {
								if(distance_v[j-1][1]>distance_v[j][1])
								 {
									d=distance_v[j][1];     //电压交换
									n=distance_v[j][0];     //序号交换
									distance_v[j][1]=distance_v[j-1][1];
									distance_v[j][0]=distance_v[j-1][0];
									distance_v[j-1][1]=d;
									distance_v[j-1][0]=n;
								 }
						   }
					  }
					 //选取靠前的n个数据+电压距离约束（经验）
					  sum=0;
					  for(i=0;i<5;i++)
					  {
							k=distance_v[i][0];     //提取前k个序列号
							for(j=0;j<2;j++)
							 {
								sum=sum+(sheet_a[k][j]-sample_a[j])*(sheet_a[k][j]-sample_a[j]);
							 }
							 distance_a[i][0]=k;
							 distance_a[i][1]=sum;
							 sum=0;
					  }
					  //初始化数据
					  m=distance_a[0][1];
					  k=distance_a[0][0];
					 ////查找最小
					  for(i=0;i<5;i++)
					  {
						  if(distance_v[i][1]>=0.2)
							 break;
						   if(m>=distance_a[i][1])
							{
							   m=distance_a[i][1];
							   k=distance_a[i][0];
							}
					  }
					  	if(q!=k)
					  	{
							 q=k;  /////输出对应的中文
								USART_printf("BOXF(150,120,270,200,0);\n");
							 switch(k)
							 {
					 	 	 	case 1 : {SYN_FrameInfo("聋");USART_printf("DS48(170,130,'聋',5);\n");k=0;break;}

					 			case 2 : {SYN_FrameInfo("0");USART_printf("DS48(170,130,'抬头',5);\n");k=0;break;}

					 			case 3 : {SYN_FrameInfo("人");USART_printf("DS48(170,130,'人',5);\n");k=0;break;}

					 			case 4 : {SYN_FrameInfo("1");USART_printf("DS48(170,130,'别哭',5);\n");k=0;break;}

					 			case 5 : {SYN_FrameInfo("2");USART_printf("DS48(170,130,'你',5);\n");k=0;break;}

					 			case 6 : {SYN_FrameInfo("2");USART_printf("DS48(170,130,'你',5);\n");k=0;break;}
					 			case 7 : {SYN_FrameInfo("3");USART_printf("DS48(170,130,'爱你',5);\n");k=0;break;}
					 			case 8 : {SYN_FrameInfo("3");USART_printf("DS48(170,130,'爱你',5);\n");k=0;break;}
					 			case 9 : {SYN_FrameInfo("耶");USART_printf("DS48(170,130,'沉默',5);\n");k=0;break;}
					 			case 10 : {SYN_FrameInfo("耶");USART_printf("DS48(170,130,'沉默',5);\n");k=0;break;}
					 			case 11 : {SYN_FrameInfo("你");USART_printf("DS48(170,130,'不是',5);\n");k=0;break;}
					 			case 12 : {SYN_FrameInfo("你");USART_printf("DS48(170,130,''不是,5);\n");k=0;break;}
					 			case 13 : {SYN_FrameInfo("6");USART_printf("DS48(170,130,'错',5);\n");k=0;break;}
					 			case 14 : {SYN_FrameInfo("6");USART_printf("DS48(170,130,'错',5);\n");k=0;break;}
					 			case 15 : {SYN_FrameInfo("7");USART_printf("DS48(170,130,'还在',5);\n");k=0;break;}
					 			case 16 : {SYN_FrameInfo("7");USART_printf("DS48(170,130,'还在',5);\n");k=0;break;}
					 			case 17 : {SYN_FrameInfo("小了");USART_printf("DS48(170,130,'我',5);\n");k=0;break;}
					 			case 18 : {SYN_FrameInfo("小了");USART_printf("DS48(170,130,'我',5);\n");k=0;break;}
					 			case 19 : {SYN_FrameInfo("打我");USART_printf("DS48(170,130,'生活',5);\n");k=0;break;}
					 			case 20 : {SYN_FrameInfo("打我");USART_printf("DS48(170,130,'生活',5);\n");k=0;break;}
					 			case 21 : {SYN_FrameInfo("上天");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
					 			case 22 : {SYN_FrameInfo("上天");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
					 			case 23 : {SYN_FrameInfo("谢谢");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
					 			case 24 : {SYN_FrameInfo("谢谢");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
					 			case 25 : {SYN_FrameInfo("你");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
					 			case 26 : {SYN_FrameInfo("你");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
					 			case 27 : {SYN_FrameInfo("我");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 28 : {SYN_FrameInfo("我");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 29 : {SYN_FrameInfo("爱");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 30 : {SYN_FrameInfo("是");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 31 : {SYN_FrameInfo("你");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 32 : {SYN_FrameInfo("很");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 33 : {SYN_FrameInfo("学生");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 34 : {SYN_FrameInfo("学生");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 35 : {SYN_FrameInfo("见到");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 36 : {SYN_FrameInfo("见到");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 37 : {SYN_FrameInfo("抱歉");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 38 : {SYN_FrameInfo("抱歉");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 39 : {SYN_FrameInfo("们");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 40 : {SYN_FrameInfo("们");USART_printf("DS48(170,130,'',5);\n");k=0;break;}
								case 41 : {SYN_FrameInfo("名片");USART_printf("DS48(160,130,'',5);\n");k=0;break;}
								case 42 : {SYN_FrameInfo("名片");USART_printf("DS48(160,130,'',5);\n");k=0;break;}

					 		}
					  	}
					}

		    printf("%.3f, ",(float)Data0/1000.0);
			printf("%.3f, ",(float)Data1/1000.0);
			printf("%.3f, ",(float)Data2/1000.0);
			printf("%.3f, ",(float)Data3/1000.0);
			printf("%.3f\n",(float)Data4/1000.0);


			printf("%.2f, ",angle[0]);
			printf("%.2f\n",angle[1]);
			/*printf("%.2f, ",a[0]);
			printf("%.2f, ",a[1]);
			printf("%.2f, ",a[2]);
			printf("%.2f, ",w[0]);
			printf("%.2f, ",w[1]);
			printf("%.2f\n",w[2]);
			*/
		    //printf("over\n");
               //////将AD采集到的数据、陀螺仪的数据通过串口1发送出来，用于手势训练，串口1连接串口助手
			/*sprintf(szADC_Data,"%.3f, %.3f, %.3f, %.3f, %.3f, %.2f, %.2f",(float)Data0/1000.0,(float)Data1/1000.0,(float)Data2/1000.0,(float)Data3/1000.0,(float)Data4/1000.0,angle[0],angle[1]);

			for(i=0;i<66;i++)
			{
				while(!(IORD_ALTERA_AVALON_UART_STATUS(UART_0_BASE)& ALTERA_AVALON_UART_STATUS_TRDY_MSK));
				IOWR_ALTERA_AVALON_UART_TXDATA(UART_0_BASE, szADC_Data[i]);
			}*/
			//usleep(200*1000);
    }   // while出口

	return 0;
}    ///主函数出口

